<?xml version="1.0" encoding="utf-8"?>
<package xmlns="http://schemas.microsoft.com/packaging/2011/08/nuspec.xsd">
  <metadata>
    <id>SqlServerDsc</id>
    <version>17.1.0</version>
    <authors>DSC Community</authors>
    <owners>DSC Community</owners>
    <requireLicenseAcceptance>false</requireLicenseAcceptance>
    <licenseUrl>https://github.com/dsccommunity/SqlServerDsc/blob/main/LICENSE</licenseUrl>
    <projectUrl>https://github.com/dsccommunity/SqlServerDsc</projectUrl>
    <iconUrl>https://dsccommunity.org/images/DSC_Logo_300p.png</iconUrl>
    <description>This module contains commands and DSC resources for deployment and configuration of Microsoft SQL Server, SQL Server Reporting Services and Power BI Report Server.</description>
    <releaseNotes>## [17.1.0] - 2025-05-22

### Removed

- SqlServerDsc
  - Revert workaround in GitHub Actions workflows as new version of ModuleBuilder
    was released.
- SqlServerDsc.Common
  - Removed the function `Get-RegistryPropertyValue`, `Format-Path` and
    `Test-PendingRestart` in favor of the commands with the same names in
    the module _DscResource.Common_.
- SqlRSSetup
  - The DSC resource has been refactored into a class-based resource.
    - The parameter `SourcePath` was replaced with `MediaPath`.
    - The parameter `IAcceptLicensTerms` was replaced with a boolean parameter
      `AcceptLicensingTerms`.
    - The parameter `SourceCredential` was removed. Because of this, the
      functionality that allowed copying the media from a UNC path using
      those credentials was also removed. If this was something you used,
      please open an issue.
    - The version validation no longer gets the current version from the
      installed package (using `Get-Package`), but instead from the registry.
    - Prior when install was successful, the resource checked whether there
      were any pending rename operations. Since the install returns 3010
      if a restart is needed it is now assumed that the setup process takes
      care of this. If that is not the case, and this check is needed, then
      open an issue to discuss in what cases this is needed.
    - The `Edition` option 'Development` was replaced by the value
      `Developer`.
    - The read-only properties `CurrentVersion`, `ServiceName` and `ErrorDumpDirectory`
      were removed.

### Added

- Public commands:
  - `Get-SqlDscInstalledInstance` to retrieve installed SQL instances.
  - `Get-SqlDscRSSetupConfiguration` to retrieve the setup configuration of
    SQL Server Reporting Services or Power BI Report Server ([issue #2072](https://github.com/dsccommunity/SqlServerDsc/issues/2072)).
    - Add additional properties to `Get-SqlDscRSSetupConfiguration` output.
  - `Install-SqlDscReportingService` to install SQL Server Reporting Services
    ([issue #2010](https://github.com/dsccommunity/SqlServerDsc/issues/2010)).
    - Add `PassThru` parameter to return exit code.
  - `Install-SqlDscBIReportServer` to install SQL Server BI Report Server.
    ([issue #2010](https://github.com/dsccommunity/SqlServerDsc/issues/2010)).
    - Add `PassThru` parameter to return exit code.
  - `Repair-SqlDscReportingService` to repair an already installed SQL Server
    Reporting Services ([issue #2064](https://github.com/dsccommunity/SqlServerDsc/issues/2064)).
    - Add `PassThru` parameter to return exit code.
  - `Repair-SqlDscBIReportServer` to repair an already installed SQL Server
    BI Report Server ([issue #2064](https://github.com/dsccommunity/SqlServerDsc/issues/2064)).
    - Add `PassThru` parameter to return exit code.
  - `Test-SqlDscRSInstalled` to test whether an instance is installed or not
     ([issue #2078](https://github.com/dsccommunity/SqlServerDsc/issues/2078)).
  - `Uninstall-SqlDscReportingService` to uninstall SQL Server Reporting
    Services ([issue #2065](https://github.com/dsccommunity/SqlServerDsc/issues/2065)).
    - Add `PassThru` parameter to return exit code.
  - `Uninstall-SqlDscBIReportServer` to uninstall SQL Server BI Report Server
    ([issue #2065](https://github.com/dsccommunity/SqlServerDsc/issues/2065)).
    - Add `PassThru` parameter to return exit code.
  - `ConvertTo-SqlDscEditionName` to return the edition name of the specified
    edition ID.
- Private function:
  - `Invoke-ReportServerSetupAction` to run setup actions for Reporting
    Services and Power BI Report Server.
- Added new instructions for GitHub Copilot that might assist when developing
  command and private functions in the module. More instructions should be
  added as needed to help generated code and tests.

### Changed

- SqlServerDsc
  - The examples that was located in the README in the examples folder has
    now been moved to the WikiSource folder. The examples are published to
    the repository Wiki. The README has been updated to link to the new
    location ([issue #2051](https://github.com/dsccommunity/SqlServerDsc/issues/2051)).
  - Integration test stages has been modified to split the testing into
    several different areas. The tests are dependent on this order:
    - Quality_Test_and_Unit_Test
    - Integration_Test_Commands_SqlServer
      - Integration_Test_Commands_ReportingServices
      - Integration_Test_Commands_BIReportServer
    - Integration_Test_Resources_SqlServer
      - Integration_Test_Resources_SqlServer_dbatools
      - Integration_Test_Resources_ReportingServices
        - Integration_Test_Resources_ReportingServices_dbatools
  - Update build script path in integration tests.
  - Fix style formatting in all PowerShell script files.
  - Update module description on GitHub, in the conceptual help, and in
    the module manifest.
  - Now integration tests will fail on an exception when the command `Test-DscConfiguration`
    is run.
  - Added Test-SqlDscIsRole to be used like Test-SqlDscIsLogin but tests
    for a server role as principal.
  - Refine and enhance clarity in Copilot instructions.
- SqlSetup
  - Fixed issue with AddNode where cluster IP information was not being passed to
    setup.exe ([issue #1171](https://github.com/dsccommunity/SqlServerDsc/issues/1171)).
- SqlRSSetup
  - The DSC resource has been refactored into a class-based resource.
- `Set-SqlDscServerPermission`
  - Added support for assigning permissions to a server role.

### Fixed

- Fixed workaround for the GitHub Actions to support building module in Windows
  PowerShell.
- Fix tests to redirect output streams correctly.
- SqlServerDsc
  - Fix localization tests.
  - Cleanup in unit tests for classes.
  - Cleanup in localization string files.
- `SqlAudit`
  - Fix localization strings in `Assert` method.
- `Save-SqlDscSqlServerMediaFile`
  - Fix localizations strings that used wrong keys.
  - Fix unit tests so they work cross-platform.
- `Install-SqlDscServer` and private function `Invoke-SetupAction`
  - Fix localization string keys naming.
  - Fix unit tests to use correct localization string names.
  - Remove redundant unit tests.
- `SqlConfiguration`
  - Change the alias command to real command name, to pass HQRM tests.
- `SqlDatabaseUser`
  - Change the alias command to real command name, to pass HQRM tests.
- `SqlMaxDop`
  - Change the alias command to real command name, to pass HQRM tests.
- `SqlMemory`
  - Change the alias command to real command name, to pass HQRM tests.
- `SqlReplication`
  - Change the alias command to real command name, to pass HQRM tests.
- `SqlRSSetup`
  - Change the alias command to real command name, to pass HQRM tests.
- `SqlServiceAccount`
  - Change the alias command to real command name, to pass HQRM tests.
- `Get-SqlDscRSSetupConfiguration`
  - The integration test was updated to verify so that the `CurrentVersion`
    and `ProductVersion` strings can be converted to valid versions and
    that they always are higher than what we expect.
- `SqlRS`
  - Re-enable integration tests.
- `SqlAG`
  - Fix SeedingMode existence condition.
- `SqlAGReplica`
  - Fix SeedingMode existence condition.</releaseNotes>
    <copyright>Copyright the DSC Community contributors. All rights reserved.</copyright>
    <tags>PSModule DesiredStateConfiguration DSC DSCResourceKit DSCResource SqlServer PowerBI ReportingServices ReportServer</tags>
  </metadata>
</package>